diff -ruN qmailanalog-0.70.old/Makefile qmailanalog-0.70/Makefile
--- qmailanalog-0.70.old/Makefile	Sun Aug 30 17:39:26 1998
+++ qmailanalog-0.70/Makefile	Wed Jan 21 20:17:47 2004
@@ -259,7 +259,7 @@
 matchup.o: \
 compile matchup.c stralloc.h gen_alloc.h gen_alloc.h gen_allocdefs.h \
 strerr.h getln.h substdio.h subfd.h substdio.h readwrite.h exit.h \
-str.h fmt.h scan.h case.h
+str.h fmt.h scan.h case.h alloc.h
 	./compile matchup.c
 
 open.a: \
diff -ruN qmailanalog-0.70.old/error.3 qmailanalog-0.70/error.3
--- qmailanalog-0.70.old/error.3	Sun Aug 30 17:39:27 1998
+++ qmailanalog-0.70/error.3	Wed Jan 21 20:17:33 2004
@@ -3,8 +3,8 @@
 error \- syscall error codes
 .SH SYNTAX
 .B #include <error.h>
-
-extern int \fBerrno\fP;
+.br
+.B #include <errno.h>
 
 extern int \fBerror_intr\fP;
 .br
diff -ruN qmailanalog-0.70.old/error.c qmailanalog-0.70/error.c
--- qmailanalog-0.70.old/error.c	Sun Aug 30 17:39:27 1998
+++ qmailanalog-0.70/error.c	Wed Jan 21 20:17:33 2004
@@ -1,4 +1,3 @@
-#include <errno.h>
 #include "error.h"
 
 /* warning: as coverage improves here, should update error_{str,temp} */
diff -ruN qmailanalog-0.70.old/error.h qmailanalog-0.70/error.h
--- qmailanalog-0.70.old/error.h	Sun Aug 30 17:39:27 1998
+++ qmailanalog-0.70/error.h	Wed Jan 21 20:17:33 2004
@@ -1,7 +1,7 @@
 #ifndef ERROR_H
 #define ERROR_H
 
-extern int errno;
+#include <errno.h>
 
 extern int error_intr;
 extern int error_nomem;
diff -ruN qmailanalog-0.70.old/matchup.c qmailanalog-0.70/matchup.c
--- qmailanalog-0.70.old/matchup.c	Sun Aug 30 17:39:27 1998
+++ qmailanalog-0.70/matchup.c	Wed Jan 21 20:17:33 2004
@@ -1,3 +1,4 @@
+#include "alloc.h"
 #include "stralloc.h"
 #include "gen_alloc.h"
 #include "gen_allocdefs.h"
